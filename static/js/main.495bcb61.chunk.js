(window["webpackJsonpcar-pooling-ng"]=window["webpackJsonpcar-pooling-ng"]||[]).push([[0],{43:function(e,t,n){e.exports=n(75)},48:function(e,t,n){},49:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),l=(n(48),n(49),n(10)),i=n(14),s=n(12),u=n(9),m=n(38),p=n(39),f=n(11);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={token:null,isAuthenticated:null,loading:!0,user:null},y=n(42),E=Object(u.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",a),d({},e,{token:a,isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"LOGIN_FAIL":return localStorage.removeItem("token"),d({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ALERT":return[].concat(Object(y.a)(e),[a]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==a});default:return e}}}),O=Object(u.createStore)(E,Object(m.composeWithDevTools)(Object(u.applyMiddleware)(p.a))),v=function(){return r.a.createElement("div",null,"HomePage")},h=n(13),w=n(16),j=n.n(w),S=n(21),N=n(22),P=n.n(N),k="https://car-pooling-ng.herokuapp.com/api/v1",_=n(40),C=n.n(_),R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var r=C.a.v4();a({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout(function(){return a({type:"REMOVE_ALERT",payload:r})},n)}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var I=Object(l.b)(null,{login:function(e,t,n){return function(){var a=Object(S.a)(j.a.mark(function a(r){var o,c,l;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=JSON.stringify({email:e,password:t}),c={headers:{"Content-Type":"application/json"}},a.next=5,P.a.post(k+"/auth/signin",o,c);case 5:l=a.sent,r({type:"LOGIN_SUCCESS",payload:l.data.data.token}),r(R("Login was successful","success")),n.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:"LOGIN_FAIL",payload:a.t0});case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,n=e.history,o=Object(a.useState)({email:"",password:""}),c=Object(h.a)(o,2),l=c[0],i=c[1],s=l.email,u=l.password,m=function(e){i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l,Object(f.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,u,n)}},r.a.createElement("input",{onChange:function(e){return m(e)},value:s,className:"form-control no-border mt-3",type:"text",name:"email",placeholder:"Email"}),r.a.createElement("input",{onChange:function(e){return m(e)},value:u,className:"form-control no-border mt-3",type:"password",name:"password",placeholder:"Password"}),r.a.createElement("input",{className:"btn btn-primary mt-3",type:"submit",name:"submit"})))});function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var L=Object(l.b)(null,{register:function(e,t,n,a,r){return function(){var o=Object(S.a)(j.a.mark(function o(c){var l,i,s;return j.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,l=JSON.stringify({first_name:e,last_name:t,email:n,password:a}),i={headers:{"Content-Type":"application/json"}},o.next=5,P.a.post(k+"/auth/signup",l,i);case 5:s=o.sent,c({type:"REGISTER_SUCCESS",payload:s.data.data.token}),c(R("Registration was successful","success")),r.push("/"),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),c({type:"REGISTER_FAIL",payload:o.t0});case 14:case"end":return o.stop()}},o,null,[[0,11]])}));return function(e){return o.apply(this,arguments)}}()}})(function(e){var t=e.register,n=e.history,o=Object(a.useState)({first_name:"",last_name:"",email:"",password:""}),c=Object(h.a)(o,2),l=c[0],i=c[1],s=l.first_name,u=l.last_name,m=l.email,p=l.password,b=function(e){i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l,Object(f.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container"}," ",r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,u,m,p,n)}},r.a.createElement("input",{onChange:function(e){return b(e)},className:"form-control no-border mt-3",type:"text",name:"first_name",value:s,placeholder:"First Name"}),r.a.createElement("input",{onChange:function(e){return b(e)},className:"form-control no-border mt-3",type:"text",name:"last_name",value:u,placeholder:"Last Name"}),r.a.createElement("input",{onChange:function(e){return b(e)},className:"form-control no-border mt-3",type:"text",name:"email",value:m,placeholder:"Email"}),r.a.createElement("input",{onChange:function(e){return b(e)},className:"form-control no-border mt-3",type:"password",name:"password",value:p,placeholder:"Password"}),r.a.createElement("input",{className:"btn btn-primary mt-3",type:"submit",name:"submit",id:""})))}),x=function(){var e=Object(a.useState)("signin"),t=Object(h.a)(e,2),n=t[0],o=t[1];return r.a.createElement("section",null,r.a.createElement("div",{id:"cnt",className:"row"},r.a.createElement("div",{id:"img",className:"col"}),r.a.createElement("div",{id:"signin",className:"col "},r.a.createElement(i.b,{to:"/"},"Go back"),r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"buttn btn btn-lg",onClick:function(){o("signin")}},"Signin")),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"buttn btn btn-lg",onClick:function(){o("signup")}},"Signup"))),r.a.createElement("div",{className:""}," ","signin"===n?r.a.createElement(a.Fragment,null,r.a.createElement(I,null),r.a.createElement("br",null),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(i.b,{to:"#"},"Register"))):r.a.createElement(a.Fragment,null,r.a.createElement(L,null),r.a.createElement("br",null),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(i.b,{to:"#"},"Sign In")))))))},A=Object(l.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return r.a.createElement(a.Fragment,{className:"container"},null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))});var G=function(){return r.a.createElement(l.a,{store:O},r.a.createElement(i.a,{basename:"/"},r.a.createElement(A,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:v}),r.a.createElement(s.a,{exact:!0,path:"/signin_up",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.495bcb61.chunk.js.map